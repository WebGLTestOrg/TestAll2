System.register("chunks:///_virtual/FreeCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,n,r,a,s,l,c,h,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,l=t.input,c=t.Input,h=t.KeyCode,u=t.Vec3,p=t.Component}],execute:function(){var m,f,y,d,g,b,D,Y,v,w,T,E,z,S,M,K,W,_,x,P,C,N;r._RF.push({},"15f6cp12VhM7IGhUEx42YWM","FreeCamera",void 0);var O=a.ccclass,U=a.property;t("VerticalZoomAroundTargetXZ",(m=O("VerticalZoomAroundTargetXZ"),f=U({type:s,tooltip:"Необязательная нода-таргет. Если не задана — используются координаты targetPos."}),y=U({tooltip:"Координаты цели, если targetNode не задан."}),d=U({tooltip:"Азимут (yaw) вокруг цели в градусах. 0° = на +Z, 90° = на +X."}),g=U({tooltip:"Начальная дистанция до цели (по XZ)."}),b=U({tooltip:"Пределы дистанции (зум)."}),D=U({tooltip:"Шаг зума от колёсика (чем больше — сильнее)."}),Y=U({tooltip:"Плавность зума (сек). Меньше — резче."}),v=U({tooltip:"Макс. скорость вертикали (ед/сек)."}),w=U({tooltip:"Плавность вертикали (сек). Меньше — резче."}),m((z=e((E=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"targetNode",z,n(e)),o(e,"targetPos",S,n(e)),o(e,"yawDeg",M,n(e)),o(e,"distance",K,n(e)),o(e,"minDistance",W,n(e)),o(e,"maxDistance",_,n(e)),o(e,"zoomStep",x,n(e)),o(e,"zoomSmoothTime",P,n(e)),o(e,"maxSpeed",C,n(e)),o(e,"moveSmoothTime",N,n(e)),e.dirY=0,e.velY=0,e.baseYOffset=0,e.targetDistance=10,e.currentDistance=10,e}i(e,t);var r=e.prototype;return r.onEnable=function(){l.on(c.EventType.KEY_DOWN,this.onKeyDown,this),l.on(c.EventType.KEY_UP,this.onKeyUp,this),l.on(c.EventType.MOUSE_WHEEL,this.onMouseWheel,this)},r.onDisable=function(){l.off(c.EventType.KEY_DOWN,this.onKeyDown,this),l.off(c.EventType.KEY_UP,this.onKeyUp,this),l.off(c.EventType.MOUSE_WHEEL,this.onMouseWheel,this)},r.start=function(){var t=this.getTargetWorld();this.baseYOffset=this.node.worldPosition.y-t.y,this.targetDistance=this.distance,this.currentDistance=this.distance,this.applyTransform(0)},r.onKeyDown=function(t){t.keyCode===h.KEY_W?this.dirY=1:t.keyCode===h.KEY_S&&(this.dirY=-1)},r.onKeyUp=function(t){t.keyCode===h.KEY_W&&1===this.dirY&&(this.dirY=0),t.keyCode===h.KEY_S&&-1===this.dirY&&(this.dirY=0)},r.onMouseWheel=function(t){this.targetDistance+=t.getScrollY()*this.zoomStep*.1,this.targetDistance=Math.max(this.minDistance,Math.min(this.maxDistance,this.targetDistance))},r.update=function(t){var e=this.dirY*this.maxSpeed,i=this.moveSmoothTime>0?1-Math.exp(-t/this.moveSmoothTime):1;this.velY+=(e-this.velY)*i,Math.abs(this.velY)<1e-4&&0===this.dirY&&(this.velY=0),this.baseYOffset+=this.velY*t;var o=this.zoomSmoothTime>0?1-Math.exp(-t/this.zoomSmoothTime):1;this.currentDistance+=(this.targetDistance-this.currentDistance)*o,this.applyTransform(t)},r.getTargetWorld=function(){return this.targetNode?this.targetNode.worldPosition.clone():this.targetPos.clone()},r.applyTransform=function(t){var e=this.getTargetWorld(),i=this.yawDeg*Math.PI/180,o=Math.sin(i)*this.currentDistance,n=Math.cos(i)*this.currentDistance,r=new u(e.x+o,e.y+this.baseYOffset,e.z+n);this.node.setWorldPosition(r),this.node.lookAt(new u(e.x,r.y,e.z))},e}(p)).prototype,"targetNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(E.prototype,"targetPos",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0,0)}}),M=e(E.prototype,"yawDeg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=e(E.prototype,"distance",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),W=e(E.prototype,"minDistance",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),_=e(E.prototype,"maxDistance",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),x=e(E.prototype,"zoomStep",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),P=e(E.prototype,"zoomSmoothTime",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),C=e(E.prototype,"maxSpeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),N=e(E.prototype,"moveSmoothTime",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.12}}),T=E))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./FreeCamera.ts","./PieceSpawner.ts","./RotateYByKeys.ts"],(function(){return{setters:[null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PieceSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,a,o,c,l,p,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Prefab,l=e.instantiate,p=e.Vec3,s=e.Component}],execute:function(){var u,f,b,y,h,w,g,P;a._RF.push({},"afb06F8c6dL7IKM2pPDv/LO","PieceSpawner",void 0);var S=o.ccclass,v=o.property;e("PieceSpawner",(u=S("PieceSpawner"),f=v({type:c}),u((h=t((y=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"prefab",h,i(t)),n(t,"totalObjects",w,i(t)),n(t,"yStep",g,i(t)),n(t,"angleStep",P,i(t)),t}r(t,e);var a=t.prototype;return a.start=function(){this.spawnObjects()},a.spawnObjects=function(){if(this.prefab)for(var e=0,t=0;t<this.totalObjects;t++){t>0&&t%8==0&&(e+=this.yStep);var r=l(this.prefab);r.setParent(this.node),r.setPosition(new p(0,e,0)),r.setRotationFromEuler(new p(0,t*this.angleStep,0))}else console.warn("Prefab �� ��������!")},t}(s)).prototype,"prefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(y.prototype,"totalObjects",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 24}}),g=t(y.prototype,"yStep",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),P=t(y.prototype,"angleStep",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),b=y))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/RotateYByKeys.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,i,r,s,a,p,y,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.input,p=e.Input,y=e.KeyCode,c=e.Component}],execute:function(){var u,l,h,d,f;r._RF.push({},"717452jV8ZDv7JZnElpm+X0","RotateYByKeys",void 0);var K=s.ccclass,E=s.property;e("RotateYByKeys",(u=K("RotateYByKeys"),l=E({tooltip:"�������� �������� � ����/���"}),u((f=t((d=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"rotateSpeed",f,i(t)),t.dir=0,t}o(t,e);var r=t.prototype;return r.onEnable=function(){a.on(p.EventType.KEY_DOWN,this.onKeyDown,this),a.on(p.EventType.KEY_UP,this.onKeyUp,this)},r.onDisable=function(){a.off(p.EventType.KEY_DOWN,this.onKeyDown,this),a.off(p.EventType.KEY_UP,this.onKeyUp,this)},r.onKeyDown=function(e){e.keyCode===y.KEY_A?this.dir=-1:e.keyCode===y.KEY_D&&(this.dir=1)},r.onKeyUp=function(e){(e.keyCode===y.KEY_A&&-1===this.dir||e.keyCode===y.KEY_D&&1===this.dir)&&(this.dir=0)},r.update=function(e){if(0!==this.dir){var t=this.node.eulerAngles.clone();t.y+=this.dir*this.rotateSpeed*e,this.node.setRotationFromEuler(t)}},t}(c)).prototype,"rotateSpeed",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),h=d))||h));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});